<div class="card shadow border rounded-xl mt-2 mb-3 border-0">
  <div class="card-body">
    <form [formGroup]="postForm" (ngSubmit)="addPost()">
    <div class="d-flex align-items-center m-1">
      <img [src]="currentUser?.profilPhoto!=null ? currentUser?.profilPhoto :'../../../assets/DefaultProfileImage.jpg'" alt="ProfilImage" class="rounded-circle"
        style="width: 45px;height:45px;">
      <input type="text" class="form-control mx-3" formControlName="description" #post (keyup)="0" placeholder="&nbsp; what's up, {{currentUser?.firstName}} ?">
    </div>
    <hr class="w-75 mx-auto">
    <div *ngIf="post.value || videoImage.value">
      <div class="card rounded-xl my-2 rounded">
        <div class="card-body">
          <small class="row text-muted justify-content-end">{{datePost|date}}</small>
          <div class="row mx-1">
            <img [src]="currentUser?.profilPhoto!=null ? currentUser?.profilPhoto :'../../../assets/DefaultProfileImage.jpg'" alt="ProfilImage"
                class="rounded-circle border"
                style="width: 45px;height:45px;">
            <p class="font-weight-bold mx-1"> {{currentUser?.firstName}}&nbsp;{{currentUser?.lastName}}</p>
          </div>
          <p class="my-2 mx-5 text">{{ showMore ? (post.value):(post.value | slice:0:150) }}
            <span *ngIf="post.value.length>150">
            <a href="javascript:;" *ngIf="!showMore" (click)="onShow()">...[Show More]</a>
            <a href="javascript:;" *ngIf="showMore" (click)="onShow()">.[Show Less]</a>
           </span>
          </p>
          <div class="row my-1 border" *ngIf="videoImage.value">
            <img id="blah" [src]="imageSrc" *ngIf="format==='image' && imageSrc" />
            <video autoplay controls *ngIf="format==='video' && imageSrc">
              <source [src]="imageSrc" type="video/mp4">
            </video>
          </div>
      </div>
    </div>
    </div>
    <div class="d-flex align-items-center mx-4 justify-content-between">
      <div class="icon-upload mx-2 mt-1">
        <label for="file-input" role="button">
          <i class="fas fa-image fa-lg text-title"></i>
        </label>
        <input formControlName="photo" #videoImage id="file-input" type="file" accept="image/*" (keyup)="0" (change)="onKeyPressEvent($event)"/>
        |
        <label for="file-input" role="button">
          <i class="fas fa-video fa-lg text-title"></i>
        </label>
        <input formControlName="video" #videoImage id="file-input" type="file" accept="video/*" (keyup)="0" (change)="onKeyPressEvent($event)"/>
      </div>
      <div class="d-flex align-items-center justify-content-between">
        <button type="submit" class="btn bg-addPost rounded-pill font-weight-bold text-light">Send</button>
        <button type="button" class="btn btn-warning rounded-pill mx-2 font-weight-bold text-light" (click)="cancelAddingPost()">Candel</button>
      </div>
    </div>
  </form>
  </div>
</div>

